<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="background-color: #212121;">

    <!-- If we talk about API shit then we generally say that api means it is ususally a medium so that 2 or more programs written in same or different language may communicate. Now in modern scenario fetch() api is most common one that communicates but earlier we have AJAX that uses async js that helps to do same thing ---->

    <!-- 
        Asynchronous JavaScript and XML (Ajax, or AJAX) is a web development technique in which a web app fetches content from the server by making asynchronous HTTP requests, and uses the new content to update the relevant parts of the page without requiring a full page load. This can make the page more responsive, because only the parts that need to be updated are requested.

        Ajax can be used to create single-page apps, in which the entire web app consists of a single document, which uses Ajax to update its content as needed.

        Initially Ajax was implemented using the XMLHttpRequest interface, but the fetch() API is more suitable for modern web applications: it is more powerful, more flexible, and integrates better with fundamental web app technologies such as service workers. Modern web frameworks also provide abstractions for Ajax.
     -->

    <!-- we will do a basic project in which we use a API and take out few items from it and then make a card from it. -->

    <div class="grandParent" style="display: flex; justify-content: center; align-items: center; margin-top: 20vh;">
        <div class="parent" style="width: 30.2vw; height: 75vh; border: 2px solid blue; border-radius: 8px;">
            <div class="children1">
            </div>
            <hr style=" background-color:  blue;">
            <div class="children2" style="color: white; display: flex; justify-content: center;" ></div>
        </div>
    </div>
</body>
<script>
    const requestURL = 'https://api.github.com/users/agnt17'
    const xhr = new XMLHttpRequest();
    xhr.open('GET', requestURL); // this alone will not send the request we will have to send request.
    

    xhr.onreadystatechange = function(){
        console.log(requestURL.followers);
        if(xhr.readyState === 4){
            let data = JSON.parse(this.responseText); //since data comes in string format so it is parsed in JSON format.
            console.log(data);
            document.querySelector('.children2').innerHTML = `followers Count: ${data.followers}`;  //it will print follower count.
            
            // now we will show a image

            let photo = JSON.parse(this.responseText)
            let avatar_url = photo.avatar_url;
            let createElement = document.createElement('img');
            createElement.src = avatar_url;
            document.querySelector('.children1').appendChild(createElement);
    
        }
    }

    xhr.send(); // this is used so to send the request because it also includes few more functinalities and all....
    // now since we have 0 to 4 states and these states are changing continously so we need to track them down.
</script>

</html>